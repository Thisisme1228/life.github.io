---
layout: left-none
title:  JavaScriptDOM
date:   2018-4-13 00:00:00 +0800
tag: 进击JavaScript核心
---
* content
{:toc}
<hr>

### 创建节点

```
1、document.createElement()

2、document.createTextNode()

3、document.createDocumentFragment()

4、document.createComment()
```

#### document.createElement()

```
通过指定名称创建一个元素

document.createElement还能创建对当前浏览器不支持的标签名，在IE6-8下，这是一个著名的hack

可以使用IE的条件编译来让IE浏览器执行只针对它的代码
```

#### document.createTextNode()

```
创建文本节点

var btn=document.createElement("BUTTON");
var t=document.createTextNode("CLICK ME");
btn.appendChild(t);
document.body.appendChild(btn);
```

#### document.createDocumentFragment()

```
定义和用法
createdocumentfragment()方法创建了一虚拟的节点对象，节点对象包含所有属性和方法。

当你想提取文档的一部分，改变，增加，或删除某些内容及插入到文档末尾可以使用createDocumentFragment() 方法。

你也可以使用文档的文档对象来执行这些变化，但要防止文件结构被破坏，createDocumentFragment() 方法可以更安全改变文档的结构及节点。
```

#### document.createComment()

```
createComment() 方法可创建注释节点。
```

### 高效创建节点的方法
```
1、innerHTML

2、outerHTML

3、innerText

4、outerText
```

#### innerHTml

```
用来设置或获取当前标签的起始和结束里面的内容

使用innerHTml的限制
字符串的最左边不能出现空白，IE6-8会自动移除掉它
大多数浏览器不会对script标签进行脚本执行操作
不能单独创建meta，style，link等元素，一定要在前面加上一些字符。

实际上大多数浏览器通过innerHTml插入元素并不会执行其中的脚本，IE8及更早版本是唯一能够在这个情况下执行此脚本的浏览器，但必须满足一些条件
（1）为script标签添加defer属性（只有IE支持defer）
（2）script标签要在有作用域的元素之后，script被认为是无作用域的元素，也就是在页面中是看不到的元素，与style或注释元素类似
```

#### outerHTML

```
outerHTML返回调用它的元素及所有子节点的HTML标签
outerHTML写模式会替换掉节点
```

#### innerText

```
设置或获取位于对象起始和结束标签内的文本
```

#### outerText

```
设置或获取整个元素包括子节点
```

#### 查找节点

```
firstChild  第一次子节点

lastChild  最后一个子节点

parentNode  父节点

nextSibling  下一个兄弟节点

previousSibling  上一个兄弟节点

childNodes  获取子节点，childNodes属性返回包含被选节点的子节点的NodeList。
提示：如果选定的节点没有子节点，则该属性返回不包含节点的NodeList。如需循环子节点列表，使用nextSibling属性，要比使用父对象的childNodes列表效率更高。childNodes会将空格也识入节点

documentElement  属性以一个元素对象返回一个文档的文档元素，文档返回对象为HTML元素

tabName  返回元素的标签名，在HTML中，tagName属性的返回值始终是大写的

ownerDocument  属性以document对象的形式返回节点的owner document，在HTML中，HTML文档本身始终是元素的ownerDocument

hasChildNodes  方法返回true，如果指定节点拥有子节点，否则返回false
```

#### 遍历实现

```
例子：

var str = '';
function travel(space,node) {
    if(node.tagName){
        str += space + node.tagName + '<br/>'
    }
    var len = node.childNodes.length;
    for(var i=0;i<len;i++){
        travel(space+'_|',node.childNodes[i])
    }
}
travel('',document)
document.write(str)
```


